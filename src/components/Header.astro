---
import { withBase } from "../utils/withBase";

const navGroups = [
  {
    label: "Learn",
    items: [
      { href: "/courses", label: "Courses" },
      { href: "/resources", label: "Resources" },
    ],
  },
  {
    label: "Read",
    items: [{ href: "/blog", label: "Blog" }],
  },
  {
    label: "Build",
    items: [{ href: "/projects", label: "Projects" }],
  },
  {
    label: "Connect",
    items: [{ href: "/contact", label: "Contact" }],
  },
];
---

<header class="site-header">
  <nav aria-label="Main navigation" class="container nav">
    <a href={withBase("/")} class="brand" aria-label="CS Educator home">
      <span class="brand-name">CS Educator</span>
      <span class="brand-tagline"
        >Computer science teaching & practical learning</span
      >
    </a>

    <ul>
      {
        navGroups.map((group, groupIndex) => (
          <>
            <li class="nav-group-label" aria-hidden="true">
              {group.label}
            </li>
            {group.items.map((item) => (
              <li>
                <a
                  class="nav-link"
                  href={withBase(item.href)}
                  aria-current={
                    Astro.url.pathname === withBase(item.href)
                      ? "page"
                      : undefined
                  }
                >
                  {item.label}
                </a>
              </li>
            ))}
            {groupIndex !== navGroups.length - 1 && (
              <li class="nav-separator" aria-hidden="true">
                â€¢
              </li>
            )}
          </>
        ))
      }
    </ul>
  </nav>
</header>
