import Layout from '../../components/Layout.astro';
import Card from '../../components/Card.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects')).sort(
  (a, b) => Number(b.data.featured ?? false) - Number(a.data.featured ?? false) || b.data.year - a.data.year
);
<Layout title="Projects" description="Selected projects in CS education and developer tooling.">
  <h1>Projects</h1>
  <div class="grid">
    {projects.map((project) => (
      <Card
        title={project.data.title}
        description={project.data.description}
        href={`/projects/${project.slug}`}
        meta={`${project.data.year} Â· ${project.data.role}`}
      />
    ))}
  </div>
</Layout>
